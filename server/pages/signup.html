{% extends '_layouts/base.html' %}
{% set title = "Ionic - Signup" %}
{% set id = "signup" %}
{% set pre_footer = false %}
{% set header_style = 'transparent light' %}
{% set meta_description = "Create a free Ionic account." %}
{% set stickyNav = false %}

{% block main %}
<div class="banner banner--hero">
  <hgroup class="container">
    <h1>Create a free Ionic account</h1>
  </hgroup>
</div>
<main>
  <section class="tab-content" id="content-account">
    <div class="container">
      <div class="form-row">
        <div class="col form-wrapper">
          <ionic-signup-form
            source="framework-signup"
            ga-event-name="Get started"
            ga-event-label="btn-get-started-signup-submit"
            hubspot-event-id="000006040735"
            id="signup-form"
            allow-login="false"
            allow-social="true"
            oauth-redirect="false"
          ></ionic-signup-form>
        </div>
      </div>
      <div class="content-row">
        <div class="col col--centered col--full">
          Already have an account? <a href="/login{{ search | escape }}">Log in</a>
        </div>
      </div>
    </div>
  </section>
</main>
{% endblock %}

{% block scripts %}
{# Promise, fetch, URLSearchParams polyfills #}
<script
  src="https://cdn.jsdelivr.net/npm/promise-polyfill@8.1.3/dist/polyfill.min.js"
  integrity="sha384-Oa9qd3zGPgIOjIcotuclp6o+1G/FJtvOBKJRGkHSQt/nQWcZY/UwxnQYvVL5dfV5"
  crossorigin="anonymous"
></script>
<script
  src="https://cdn.jsdelivr.net/npm/whatwg-fetch@3.0.0/dist/fetch.umd.min.js"
  integrity="sha384-izk5QhlJG4UwhAQ3P3QgvguhYiTV1GRKBu41DyczWbFPX3hVK89Q+CLwVAzBBcy8"
  crossorigin="anonymous"
></script>
<script
  src="https://cdn.jsdelivr.net/npm/core-js-bundle@3.6.4/minified.js"
  integrity="sha384-0klsXCJV+cWaC+zXWBGWot1n1vMkFkbxy6BtBjwrn+fEoS5kflOTchfH9PUQPaN+"
  crossorigin="anonymous"
></script>
{# Google reCAPTCHA #}
<script src="https://www.google.com/recaptcha/api.js?render=6LfbcKAUAAAAACUDq_t59TP8MawQXB37DVEeSOjZ"></script>
<script>
  (function () {
    var signupForm = document.querySelector("ionic-signup-form");
    signupForm.addEventListener("signedUp", function (e) {
      var url = "{{ DASHBOARD_URL }}/login" + window.location.search;
      window.location.assign(url);
    });
  })();
</script>
{% endblock %}
